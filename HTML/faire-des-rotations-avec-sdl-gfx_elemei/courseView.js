define("widgets/scrollPanel",["jquery","widgets/baseWidget"],function(b,a){b.widget("OC.scrollPanel",a,{options:{className:"scroll-panel"},_create:function(){var c=this.options;this._super();this.element.addClass(c.scrollName);this.elements.$wrapper=b("> *",this.element).wrapAll("<div>").parent();this._addEvents()},_addEvents:function(){this._on(this.element,{scroll:this._onScroll})},_onScroll:function(){if(this.options.disabled){return}this.refresh()},refresh:function(){var d=this.options,e=this.isScrollable(),c=this.element,i=c.scrollTop(),f=(d.className+"--scrollable-up"),j=(d.className+"--scrollable-down"),h=(e&&i>0),g=(i+this.element.height()<this.elements.$wrapper.height()-1);c.toggleClass(f,g);c.toggleClass(j,h)},disable:function(){this._super();this.element.removeClass("ui-state-disabled");this.refresh()},enable:function(){this._super();this.refresh()},setHeight:function(c){if(c==="auto"){this.element.css("height","auto")}else{this.element.outerHeight(c)}this.refresh()},isScrollable:function(){return(this.elements.$wrapper.height()>this.element.height())}});return b.OC.scrollPanel});
define("widgets/linkedSelect",["jquery","_","widgets/baseWidget"],function(c,a,b){c.widget("OC.linkedSelect",b,{options:{rawdata:null,freeFieldTrigger:null,},_create:function(){this._super();this.value=null;this.elements.$mainSelelect=this._createSelect(this._getNodeChildren(0));this.elements.$freeField=c('<input type="text">').appendTo(this.element);this._on(this.elements.$freeField,{input:this._onChangeFreeField});this._toggleFreeField(false)},_getNodeChildren:function(f){var e=this.options.rawdata[f],d=e?e.children:null;return d?a.sortBy(d,"position"):[]},_createSelect:function(h,e){var g,d=c("select",this.element),i=this.options.freeFieldTrigger,f=false;if(!e){e=c("<select>");f=true}e.empty();h.unshift({id:"",title:""});h.forEach(function(j){g=c("<option>").attr("value",j.id).text(j.title).appendTo(e);if(i&&j[i.field]===i.value){g.data("needFreeField",true)}});this._on(e,{change:this._onSelectChange});if(f){if(d.length===0){e.appendTo(this.element)}else{e.insertAfter(d.last())}}return e},_onChangeFreeField:function(d){this._trigger("changeFreeField",d,{value:this.freeFieldVal()})},_onSelectChange:function(g){var e=c(g.currentTarget),h=e.val(),d=!!c(":selected",e).data("needFreeField"),f=this._getNodeChildren(h);e.nextAll("select").remove();if(f.length>0){this._createSelect(f,this._getNextSelect(e))}this._toggleFreeField(d);this.value=h;this._trigger("change",g,{value:this.val()})},_getNextSelect:function(e){var d=e.next("select");return !!d.length?d:null},_toggleFreeField:function(d){this.elements.$freeField.css("visibility",d?"visible":"hidden");if(!d){this.elements.$freeField.val("");this._onChangeFreeField()}},val:function(){return this.value},freeFieldVal:function(){return this.elements.$freeField.val()}});return c.OC.linkedSelect});
define("widgets/courseFormatsBar",["jquery","widgets/baseWidget","Modernizr","popin"],function(e,c,f,b){var d="courseFormatsBar",a=f.touch;e.widget("OC."+d,c,{options:{},_create:function(){var g=this;this._super();this.element.on(a?"tap":"click",function(i){var j=e(i.target).parent(),h=function(k){i.preventDefault();b.open(k)};if(j.is(".js-popin-activator")&&!a){h(j.data("popin-selector"))}else{if(a){h(g.options.popinselector)}}})}});e(".js-course-formats-bar")[d]();return e.OC[d]});
define("course/view/internalFolding",["jQuery","_","widgets/classname-switcher","common/commands","utils/responsive"],function(d,q,h,e,b){var i,o=[],j="course-content__subpart",l=d("section.js-course-container"),n=d("> *",l),g;function m(t,s){var u=[],v=[];t.each(function(z,w){var x=d(w).is(s),y=v.length;if(x||y>=1){if(x&&y>=1){u.push(q.clone(v));v=[]}v.push(w)}});u.push(q.clone(v));return u}function k(){return b.getCurrentWidth()!=="large"}function r(s){s.forEach(function(v){var u,t=d(v),w=q.uniqueId("subpart_");t.wrapAll("<div>").parent().addClass(j).attr({id:w});if(k()){t.parent().addClass(j+"--closed")}u=v.shift();t=d(v);d(u).addClass(j+"-title").append('<i class="icon-next"></i>');t.wrapAll("<div>").parent().addClass(j+"-content");new h({target:"#"+w,classnameToToggle:j+"--closed"},u)})}function a(u){var s,t=d("#"+u);if(!!t.length){s=t.closest(".course-content__subpart").find("[data-widget=classnameSwitcher]");if(!!s.length){s.data("OCClassnameSwitcher").remove();d(window).scrollTop(t.offset().top)}}}function f(){d('[data-widget="classnameSwitcher"]',l).each(function(t,s){d(s).data("OCClassnameSwitcher").remove()})}function p(){if(k()){d(".js-course-part li").addClass("course-part-summary--closed")}}function c(s){return s?"h3[id*=r-]":"h2[id*=r-]"}e.add("course.view.foldedPartsOpen",function(){i.each(function(t,s){d(s).data("OCClassnameSwitcher").remove()})});e.add("course.view.foldedPartsClose",function(){i.each(function(t,s){d(s).data("OCClassnameSwitcher").add()})});e.execute("registerAnchor",["r-(\\d+)",function(t,s){a(s[0])}]);e.execute("registerAnchor",["/all",function(){f()}]);return{init:function(){g=c(this.preferences.isBigCourse);i=d(g,l).add(".js-part-opener");o=m(n,g);r(o);p()}}});
define("math",["jQuery","App"],function(a){var d,b;function c(g,h){var f=(g.self!==g.top),e=f?d:b;return new e(g,h)}b=function(e,f){this.loaded=false;if(e!==false){this.readyCallback=f||a.noop;this.win=e||window;this._init()}};b.SCRIPT_URL="http://cdn.mathjax.org/mathjax/2.3-latest/MathJax.js?config=TeX-AMS_HTML";b.CONFIG={TeX:{extensions:["color.js"]},tex2jax:{inlineMath:[["\\(","\\)"]],displayMath:[["\\[","\\]"],["$$","$$"]],skipTags:["script","noscript","style","textarea","code"]}};b.prototype._init=function(){this.sanitizeMathElements(a("math",this.win.document));this._loadMathjax()};b.prototype._escapeRegExp=function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")};b.prototype._loadMathjax=function(){var f,e=this,g=function(h,j){var i=e.win.document.createElement("script");i=a.extend(i,h);if(j){i.innerHTML=j}e.win.document.getElementsByTagName("head")[0].appendChild(i)};if(!this.win.MathJax||!this.win.MathJax.Hub){g({type:"text/x-mathjax-config"},"MathJax.Hub.Config("+JSON.stringify(b.CONFIG)+");");g({type:"text/javascript",src:b.SCRIPT_URL});f=this.win.setInterval(function(){if(this.MathJax){this.MathJax.Hub.Register.MessageHook("End Process",function(h){a(".js-math",h).addClass("math-formula--ready")});e.loaded=true;e.readyCallback();e.win.clearInterval(f)}},50)}else{this.readyCallback()}};b.prototype.mathjaxToHtml=function(f){var e=this;a("div[style]",f).remove();a("#MathJax_MSIE_Frame, #MathJax_Font_Test, #MathJax_Message",f).remove();a(".js-math",f).each(function(l,h){var j=(h.getAttribute("data-inline")==="true"),g=h.parentNode,i=h.getAttribute("data-latex"),k=a("<math></math>").text(e.getDelimitedLatex(i,j).trim());k.insertAfter(h);if(g.getAttribute("data-wasAp")==="1"){g=e.switchTagName(g,"p");g.removeAttribute("data-wasAp");h=g.firstChild}a(h).remove()});return f};b.prototype.updateElement=function(g,h,i,f){var e=a(g);if(typeof f==="undefined"){f=true}h=this.getDelimitedLatex(h,i);e.text(h).attr("data-inline",i).attr("data-latex",h);if(f){this.updateElementRendering(g)}};b.prototype.getLatexFromDelimited=function(j){var i,k,e=this,h,g,f=null;if(this.isDelimitedLatexString(j)){i=this.isDelimitedLatexInline(j);k=b.CONFIG.tex2jax[i?"inlineMath":"displayMath"];k.forEach(function(l){h=new RegExp(e._escapeRegExp(l[0])+"(.*)"+e._escapeRegExp(l[1]));g=j.match(h);if(g&&!f){f=g[1].trim()}})}else{f=j}return f};b.prototype.getFormulaFromElement=function(e){return{latex:this.getLatexFromDelimited(e.getAttribute("data-latex")),inline:(e.getAttribute("data-inline")==="true")}};b.prototype.isDelimitedLatexInline=function(f){var g=b.CONFIG.tex2jax.inlineMath[0],e=new RegExp(this._escapeRegExp(g[0])+"(.*)"+this._escapeRegExp(g[1]));return !!(f||"").match(e)};b.prototype.isDelimitedLatexString=function(i){var h,g,e=this,f=false,j=b.CONFIG.tex2jax.inlineMath.concat(b.CONFIG.tex2jax.displayMath);j.forEach(function(k){h=new RegExp(e._escapeRegExp(k[0])+"(.*)"+e._escapeRegExp(k[1]));g=i.match(h);if(g&&!f){f=true}});return f};b.prototype.updateElementRendering=function(e,h){var g=e?e.getAttribute("data-latex"):null,f=this.win.MathJax.Hub;if(!h){h=a.noop}if(g){a(e).text(g)}f.Queue(new this.win.Array("Typeset",f,e),h)};b.prototype.getDelimitedLatex=function(g,h){var e,f=g;if(!this.isDelimitedLatexString(g)){if(g.match(/\\$/)){g=g.replace(/\\+$/,"")}e=b.CONFIG.tex2jax[h?"inlineMath":"displayMath"][0];f=e[0]+g+e[1]}return f};b.prototype.isMathInlineElement=function(f){var e=f.getAttribute("data-inline"),g=e?(e==="true"):null;if(typeof g!=="boolean"){g=this.isDelimitedLatexInline(a.text(f))}return g};b.prototype.switchTagName=function(g,j){var h,e=a(g),f=Array.prototype.slice.call(g.attributes),i=a("<"+j+">");f.forEach(function(k){i.attr(k.name,k.value)});h=(e.children().length===0)?e.text():e.html();i.html(h).insertAfter(g);a(g).remove();return i.get(0)};b.prototype.addDelimitersToElements=function(g,f){var e=this;a(g).each(function(j,h){var i=a.text(h);f=typeof(f!=="boolean")?e.isMathInlineElement(h):f;a(h).attr("data-inline",f).text(e.getDelimitedLatex(i,f))})};b.prototype.addElement=function(f,g,e){if(typeof e==="undefined"){e=true}f.setAttribute("data-inline",g);f=this.sanitizeMathElements(f);if(e){this.updateElementRendering(f)}return f};b.prototype.sanitizeMathElements=function(i){var e,h,f=this,g=null;e=function(j){a(j).each(function(p,l){var m=a.text(l),o=m.match(/\$\$(.*)\$\$/),k=o?o[1]:null;if(k){if(f.isDelimitedLatexString(k)){l.setAttribute("data-inline",f.isDelimitedLatexInline(k));k=f.getLatexFromDelimited(k);a(l).text(k)}else{a(l).text(k);l.setAttribute("data-inline",true)}}})};h=a(i);e(h);this.addDelimitersToElements(h);a(i).each(function(o,j){var m,l=f.isMathInlineElement(j),k=j.parentNode;j=f.switchTagName(j,l?"span":"div");if(!l&&k.tagName==="P"){m=f.switchTagName(k,"div");m.setAttribute("data-wasAp",1);j=m.firstChild}a(j).addClass("math-formula js-math").attr("data-latex",a.text(j));g=j});return g};d=function(){b.apply(this,arguments)};d.prototype=new b(false);d.prototype.constructor=b;d.prototype._init=function(){var e=this;this.sanitizeMathElements(a("math",this.win.document));this.loaded=true;a(".js-math",this.win.document).each(function(g,f){e._mathDecorate(f)});this.readyCallback()};d.prototype._mathDecorate=function(f){var e=a(f),g=this.getLatexFromDelimited(e.attr("data-latex")||e.text()),h=(this.stringLimit&&g.length>this.stringLimit)?(g.substring(0,this.stringLimit)+"..."):g;e.addClass("math-formula-basic").text(h)};d.prototype.updateElementRendering=function(e,f){this._mathDecorate(e);(f||a.noop)()};return{getRendererFactory:c,Renderer:b,BasicRenderer:d}});
define("course/view/viewMath",["jQuery","math"],function(b,a){return{init:function(){if(b("math").length>0){new a.Renderer()}}}});
define("course/view/shortcuts",["App","jwerty","common/commands"],function(b,c,a){c.key("shift+down",function(){a.execute("course.view.foldedPartsOpen")});c.key("shift+up",function(){a.execute("course.view.foldedPartsClose")})});
define("course/view/floatpanel",["jQuery","require","widgets/sticky","widgets/scrollPanel","widgets/classname-switcher"],function(c,l,k,z,q){var o,g,v,h,x,m,b,i,A,t="col-nav--closed",a=l("utils/responsive"),f=l("common/commands"),B=l("constants"),w=l("PubSub"),r=c(window);function y(){var C,D;if(m==="medium"){C=r.height();D=o.offset().top-r.scrollTop();i.setHeight(C-D)}else{if(g&&g.is(":visible")){p(false);x.close()}}}function d(C){switch(C){case"medium":h.removeClass("relative");v.addClass("relative");A.resetResizeContainer().option({margin:0,bottomCap:false,$container:v}).enable();break;case"large":h.addClass("relative");A.option({margin:30,bottomCap:true,$container:h}).enable().resizeContainer();break;case"small":h.removeClass("relative");v.removeClass("relative");A.resetResizeContainer().disable();o.css("position","absolute");break}}function n(C){switch(C){case"large":d(C);i.disable();i.setHeight("auto");break;case"medium":d(C);i.enable();break;case"small":d(C);i.disable();i.setHeight("auto");break}m=C}function u(E){var C=c(document),D="mousewheel touchmove touchend";if(E){C.on(D,j)}else{C.off(D,j)}}function s(){var C=!o.hasClass(t);if(m==="medium"){if(C){p(true);y()}else{p(false)}u(C)}else{if(m==="small"){f.execute("header.toggleMobileDisplayMode",["course-sidebar",b])}}}function j(F){var C=c(F.target),E=(C.closest(o).length>0),D=(F.type==="touchmove"||F.type==="mousewheel");if(!E||(E&&!i.isScrollable()&&D)){F.preventDefault()}if(!E){x.close()}}function p(C){g=c("#overlay");if(!g.length){g=c("<div>").attr("id","overlay").prependTo(c("body")).addClass("overlay")}g.toggle(C)}function e(C,D){if(x){x.toggle(C,D)}}f.add("course.view.toggleSideBar",e);return{init:function(){o=c(".js-sidebar");v=c(".js-sidebar-container");h=c(".js-desktop-sticky-container");if(!!o.length){b=c(".js-sidebar-inner",o);A=new k({margin:0,disabled:true,bottomCap:false,resizeContainer:false,$container:v},o);i=new z(null,b);x=new q({onSwitch:s,target:o,classnameToToggle:t},c("#course-sidebar-switch"));n(a.getCurrentWidth());y();c(window).on("resize",c.throttle(100,y));x.close(true);w.subscribe(B.EVENT.RESPONSIVE_BREAKPOINT_CHANGE,function(C,D){n(D.width)})}}}});
define("course/view/pictureZoom",["jQuery"],function(d){var e=new Image();function b(g){return !!g.match(/\.(jpeg|jpg|gif|png)$/)}function a(g){e.src=g.src;return(e.width===g.width&&e.height===g.height)}function c(j){var h=d(j),i=h.children(),g=(i.length===1)&&i.get(0).tagName==="IMG"&&b(j.href);return g}function f(g){d(g).css("cursor","pointer").css("cursor","-webkit-zoom-in").css("cursor","-moz-zoom-in")}d(document).on("click",".js-course-container a",function(g){if(c(g.currentTarget)){g.preventDefault()}}).on("mouseenter",".js-course-container img:not(.video-thumb__image), .js-course-container a",function(g){if(c(g.currentTarget)||(g.currentTarget.src&&!a(g.currentTarget))){f(g.currentTarget)}}).on("click",".js-course-container img:not(.video-thumb__image)",function(j){var l=null,h=d(j.currentTarget),k=h.parent(),i=k.get(0).tagName==="A",g=i&&b(k.attr("href")),m=k.find("figcaption");if(i&&!g){return}if(!g&&j.target.src&&a(j.target)){return}if(m.length){l=m.html()}d.fancybox.open([{href:g?k.attr("href"):j.target.src,title:l}],{padding:0})})});
define("course/pdf/formPdfDownload",["jQuery","widgets/ajaxForm","widgets/calendarSelect","widgets/linkedSelect","common/commands","i18n"],function(e,h,b,f,c,l){var m,g,k,a;function j(o,n){c.execute("trace.add.ga",["Downloads",null,"PDF",o]);c.execute("trace.add.oc",[n,{tutorialSlug:o}])}function i(){var o=e("#pdf_download_useractivity_other_activity"),n=e("#pdf_download_useractivity_activity"),q=e(".js-user-activity"),p=e(".js-date-picker-pdf");m=m||q.data("option_rawdata");if(p.length!==0){new b(null,p)}if(q.length!==0){new f({rawdata:m,freeFieldTrigger:{field:"title",value:"Autre"},create:function(){o.attr("type","hidden")},change:function(r,s){n.val(s.value)},changeFreeField:function(r,s){o.val(s.value)}},q)}d();e("#js-pdf-link").on("click",function(){var r=e(this),s=r.data();if(r.attr("href")===""&&g){r.attr("href",g)}j(s.courseSlug||k,s.ocTraceUrl||a)})}function d(){var o,q,p,n=e("#pdfFormDownload");if(n.length>0){p=n.data();k=p?p.courseSlug:k;a=p?p.ocTraceUrl:a;q=n.parent();g=atob(n.data("pdf-check").split("").reverse().join(""));o=new h({submit:function(s,t){var r=this;t.request.done(function(u){q.html(u);i()}).fail(function(){o.setLoadingState(false);c.execute("flashMessage.add",["error",l("An error has occured. Please try later.")])})}},n)}}e(document).ready(function(){i()})});
define("needSubscription",["jQuery","i18n","common/commands","modules/confirm","user"],function(g,f,b,c,a){var e={mustLogIn:{message:f("You must connect to see this video."),button:f("Connect")},mustSubscribeToCourse:{message:f("You must subscribe this course to see this video, it's free !"),button:f("Subscribe this course for free")}};function h(){var i=g(".js-course-container").data("subscriptionUrl");if(i){g("<form>").attr({action:i,method:"POST"}).submit()}}function d(j,i){g(j).addClass("need-subscription js-need-subscription").append('<div class="need-subscription__message">'+(i||"")+"</div>")}b.add("setNeedSubscriptionElement",d);g(document).on("click",".js-need-subscription",function(){var i=a.isConnected()?e.mustSubscribeToCourse:e.mustLogIn;c.show({icon:a.isConnected()?"icon-student":"icon-profil",message:i.message,textButton:i.button,confirmCallback:!a.isConnected()?"/login":h})})});
define("courseView/media",["jQuery","i18n","_","common/commands"],function(g,j,l,c){var e,m,h=[],b={},n=l.template('             <div class="video-thumb">                 <i class="video-thumb__default-icon icon-video"></i>                <img class="video-thumb__image" src="<% if (typeof thumbnailUrl === "string") { %><%= thumbnailUrl %><% } %>">            </div>'),a={youtube:{matcher:/(youtube\.com|youtu\.be|youtube-nocookie\.com)\/(watch\?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]{11}|\?listType=(.*)&list=(.*)).*/i,url:"//www.youtube.com/embed/$3"},vimeo:{matcher:/(?:vimeo(?:pro)?.com)\/(?:[^\d]+)?(\d+)(?:.*)/,url:"//player.vimeo.com/video/$1"},dailymotion:{matcher:/dailymotion.com\/video\/(.*)\/?(.*)/,url:"//www.dailymotion.com/embed/video/$1"}};b.ratio={base:1.77};function o(){if(typeof m==="undefined"){m=g(".js-course-container").is(".js-course-content")}return m}function f(){if(typeof e==="undefined"){e=g(".js-course-container").is(".js-isSubscribed")}return e}function k(q,s){var r,p=q.match(a.dailymotion.matcher);if(p){r=p[1];s("http://www.dailymotion.com/thumbnail/video/"+r)}else{s(null)}}function d(q,s){var r,p=q.match(a.vimeo.matcher);if(p){r=p[1];g.getJSON("http://www.vimeo.com/api/v2/video/"+r+".json?callback=?",{format:"json"},function(t){s(t[0].thumbnail_large)})}else{s(null)}}function i(q,s){var r,p=q.match(a.youtube.matcher);if(p){r=p[3];s("http://img.youtube.com/vi/"+r+"/0.jpg")}else{s(null)}}b.getThumbnailUrl=function(q){var s,p=g.Deferred(),r=b.getTypeFromUrl(q),t=function(u){p.resolve(u)};switch(r){case"youtube":s=i(q,t);break;case"vimeo":s=d(q,t);break;case"dailymotion":s=k(q,t);break;default:t(null)}return p};b.getIframeElement=function(p){var q=this.getIframeUrl(p),r=g("<iframe></iframe>");r.attr({src:q,frameborder:0});return r.get(0)};b.getIframeUrl=function(r){var t=this.getTypeFromUrl(r),p=a[t],q=r.match(p.matcher),s=p.url;q.forEach(function(u,v){s=s.replace("$"+v,u||"")});return s};b.getTypeFromUrl=function(p){var q;for(q in a){if(a.hasOwnProperty(q)&&p.match(a[q].matcher)){return q}}};b.isValidUrl=function(p){return !!this.getTypeFromUrl(p)};b.iframeToVideo=function(q){var r,p;g(q).each(function(v,s){var t=g(s),u=t.attr("data-src-origine");if(u){p=g("<video>").attr("src",u);t.replaceWith(p)}})};b.resize=function(p){g(p).each(function(u,t){var r=g(t),s=r.width(),q=s/b.ratio.base;r.height(q)})};b.videoToThumbnail=function(q,p){g(q).each(function(w,t){var s,r=g(t),u=b.getThumbnailUrl(r.attr("src")),v=g(n());v.addClass("video-thumb--loading").insertAfter(r);s=g("img",v).on("load",function(){v.removeClass("video-thumb--loading")});u.done(function(x){s.attr("src",x)});if(p){c.execute("setNeedSubscriptionElement",[v,'<i class="icon-large icon-video"></i> '+j("Subscribe for free to this course to see those videos.")])}r.remove()})};b.videoToIframe=function(q){var p=this;g(q).each(function(v,s){var r=g(s),u=r.attr("src"),t=g(p.getIframeElement(u));t.insertAfter(r).addClass("video js-claire-video").attr("data-src-origine",u);r.remove();b.resize(t);h.push(t)})};g(document).ready(function(){g(".js-claire-video, video[data-claire-element-id]").each(function(q,p){if(f()||o()){b.videoToIframe(p)}else{b.videoToThumbnail(p,true)}})});if(g.debounce){g(window).resize(g.debounce(200,function(){if(h.length){b.resize(h)}}))}return b});
define("widgets/codeBlock",["jquery","widgets/baseWidget"],function(b,a){b.widget("OC.codeBlock",a,{options:{className:"code-block",preProcessCallback:b.noop},_create:function(){this._super();this.rawCode=this.element.text().trim();this.options.preProcessCallback(this.element);this._initCodeCopyFeature();this._attachEvents()},_attachEvents:function(){var d=this,e=this.options,c=e.className+"--show-raw-code";this.elements.$container.on("click","code",function(){d.elements.$container.toggleClass(c).find("textarea").val(d.getCode()).focus().select()}).on("blur","textarea",function(){d.elements.$container.toggleClass(c)})},_initCodeCopyFeature:function(){var c=b('<textarea wrap="off"></textarea>');this.elements.$container=this.element.parent();if(!this.elements.$container.is("pre")){this.elements.$container=this.element.wrap("<pre></pre>").parent()}c.addClass(this.options.className+"--raw-code").insertAfter(this.element);this.elements.$container.addClass(this.options.className)},getCode:function(){return this.rawCode},getLanguage:function(){return this.element.data("claireSemantic")||"text"}});return b.OC.codeBlock});
define("codeHighlite",["jQuery","App","yepnope","widgets/codeBlock"],function(d,b,f,a){var e,c=b.getPreferences().paths.lib;return{availablelanguages:["abap","actionscript","ada","asciidoc","assembly_x86","autohotkey","batchfile","c9search","c_cpp","clojure","cobol","coffee","coldfusion","csharp","css","curly","d","dart","diff","django","dot","ejs","erlang","forth","ftl","glsl","golang","groovy","haml","haskell","haxe","html","html_ruby","ini","jade","java","javascript","json","jsoniq","jsp","jsx","julia","latex","less","liquid","lisp","livescript","logiql","lsl","lua","luapage","lucene","makefile","markdown","matlab","mushcode","mushcode_high_rules","mysql","objectivec","ocaml","pascal","perl","pgsql","php","plain_text","powershell","prolog","properties","python","r","rdoc","rhtml","ruby","rust","sass","scad","scala","scheme","scss","sh","snippets","sql","stylus","svg","tcl","tex","text","textile","toml","twig","typescript","vbscript","velocity","verilog","xml","xquery","yaml"],conversionLanguage:{c:"c_cpp","html+php":"php",cpp:"c_cpp",nasm:"assembly_x86","objective-c":"objectivec"},init:function(){var g=this;e=this.getElements();if(this.shouldUseAce(e)){this.loadAce(function(){e.each(function(i,h){new a({preProcessCallback:function(j){g.colorize(j.get(0))}},h)})})}},getElements:function(g){return d("pre code[data-claire-semantic]:not([data-claire-semantic=console])",g)},getCodeElementLanguage:function(g,h){var i=g.getAttribute("data-claire-semantic")||"";return h?this.getValideLanguage(i):i},getValideLanguage:function(g){g=this.conversionLanguage[g]||g;return(this.availablelanguages.indexOf(g)>=0)?g:"text"},shouldUseAce:function(g){if(!g){g=this.getElements()}return(g.length>0)},getLibPath:function(){return c+"/ace"},loadAce:function(g){if(typeof ace==="undefined"){f({load:[this.getLibPath()+"/ace.js",this.getLibPath()+"/ext-static_highlight.js"],complete:function(){if(typeof g==="function"){g(ace)}}})}else{if(typeof g==="function"){g(ace)}}},colorize:function(j,n,g){if(typeof ace==="undefined"){return false}var i=ace.require("ace/ext/static_highlight"),h=d(j),k=h.html().trim(),m=this.getCodeElementLanguage(j,true),l=ace.require("ace/lib/dom");k=k.replace(/\xA0/g," ");k=k.replace(/&nbsp;/g," ");if(k.match(/(&lt;|&amp;|&gt;)/)){k=d("<div>").html(k).text()}h.data("rawCode",k);i.render(k,"ace/mode/"+this.getValideLanguage(m),"ace/theme/monokai",1,false,function(o){l.importCssString(o.css,"ace_highlight",g);h.html(o.html);if(n){n(j,k)}})},colorizeAll:function(h){var g=this;if(!h){h=this.getElements()}h.each(function(j,i){g.colorize(i)})}}});