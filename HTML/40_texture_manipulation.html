<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head>



    

        <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
        <meta name="KEYWORDS" content="C++ SDL 2 Tutorial 2D Windows Linux Mac Texture pixel manipulation">
        <meta name="DESCRIPTION" content="Get and modify texture pixel data in SDL 2">

        <title>Lazy Foo' Productions - Texture Manipulation</title>

        <link rel="stylesheet" type="text/css" href="40_texture_manipulation_elemei/lazy.css">

    <style type="text/css">.fb_hidden{position:absolute;top:-10000px;z-index:10001}.fb_invisible{display:none}.fb_reset{background:none;border:0;border-spacing:0;color:#000;cursor:auto;direction:ltr;font-family:"lucida grande", tahoma, verdana, arial, sans-serif;font-size:11px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal}.fb_reset>div{overflow:hidden}.fb_link img{border:none}
.fb_dialog{background:rgba(82, 82, 82, .7);position:absolute;top:-10000px;z-index:10001}.fb_reset .fb_dialog_legacy{overflow:visible}.fb_dialog_advanced{padding:10px;-moz-border-radius:8px;-webkit-border-radius:8px;border-radius:8px}.fb_dialog_content{background:#fff;color:#333}.fb_dialog_close_icon{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 0 transparent;_background-image:url(http://static.ak.fbcdn.net/rsrc.php/v2/yL/r/s816eWC-2sl.gif);cursor:pointer;display:block;height:15px;position:absolute;right:18px;top:17px;width:15px}.fb_dialog_mobile .fb_dialog_close_icon{top:5px;left:5px;right:auto}.fb_dialog_padding{background-color:transparent;position:absolute;width:1px;z-index:-1}.fb_dialog_close_icon:hover{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -15px transparent;_background-image:url(http://static.ak.fbcdn.net/rsrc.php/v2/yL/r/s816eWC-2sl.gif)}.fb_dialog_close_icon:active{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -30px transparent;_background-image:url(http://static.ak.fbcdn.net/rsrc.php/v2/yL/r/s816eWC-2sl.gif)}.fb_dialog_loader{background-color:#f2f2f2;border:1px solid #606060;font-size:24px;padding:20px}.fb_dialog_top_left,.fb_dialog_top_right,.fb_dialog_bottom_left,.fb_dialog_bottom_right{height:10px;width:10px;overflow:hidden;position:absolute}.fb_dialog_top_left{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 0;left:-10px;top:-10px}.fb_dialog_top_right{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 -10px;right:-10px;top:-10px}.fb_dialog_bottom_left{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 -20px;bottom:-10px;left:-10px}.fb_dialog_bottom_right{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 -30px;right:-10px;bottom:-10px}.fb_dialog_vert_left,.fb_dialog_vert_right,.fb_dialog_horiz_top,.fb_dialog_horiz_bottom{position:absolute;background:#525252;filter:alpha(opacity=70);opacity:.7}.fb_dialog_vert_left,.fb_dialog_vert_right{width:10px;height:100%}.fb_dialog_vert_left{margin-left:-10px}.fb_dialog_vert_right{right:0;margin-right:-10px}.fb_dialog_horiz_top,.fb_dialog_horiz_bottom{width:100%;height:10px}.fb_dialog_horiz_top{margin-top:-10px}.fb_dialog_horiz_bottom{bottom:0;margin-bottom:-10px}.fb_dialog_iframe{line-height:0}.fb_dialog_content .dialog_title{background:#6d84b4;border:1px solid #3b5998;color:#fff;font-size:14px;font-weight:bold;margin:0}.fb_dialog_content .dialog_title>span{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yd/r/Cou7n-nqK52.gif) no-repeat 5px 50%;float:left;padding:5px 0 7px 26px}body.fb_hidden{-webkit-transform:none;height:100%;margin:0;overflow:visible;position:absolute;top:-10000px;left:0;width:100%}.fb_dialog.fb_dialog_mobile.loading{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ya/r/3rhSv5V8j3o.gif) white no-repeat 50% 50%;min-height:100%;min-width:100%;overflow:hidden;position:absolute;top:0;z-index:10001}.fb_dialog.fb_dialog_mobile.loading.centered{max-height:590px;min-height:590px;max-width:500px;min-width:500px}#fb-root #fb_dialog_ipad_overlay{background:rgba(0, 0, 0, .45);position:absolute;left:0;top:0;width:100%;min-height:100%;z-index:10000}#fb-root #fb_dialog_ipad_overlay.hidden{display:none}.fb_dialog.fb_dialog_mobile.loading iframe{visibility:hidden}.fb_dialog_content .dialog_header{-webkit-box-shadow:white 0 1px 1px -1px inset;background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(#738ABA), to(#2C4987));border-bottom:1px solid;border-color:#1d4088;color:#fff;font:14px Helvetica, sans-serif;font-weight:bold;text-overflow:ellipsis;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0;vertical-align:middle;white-space:nowrap}.fb_dialog_content .dialog_header table{-webkit-font-smoothing:subpixel-antialiased;height:43px;width:100%}.fb_dialog_content .dialog_header td.header_left{font-size:12px;padding-left:5px;vertical-align:middle;width:60px}.fb_dialog_content .dialog_header td.header_right{font-size:12px;padding-right:5px;vertical-align:middle;width:60px}.fb_dialog_content .touchable_button{background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(#4966A6), color-stop(.5, #355492), to(#2A4887));border:1px solid #29447e;-webkit-background-clip:padding-box;-webkit-border-radius:3px;-webkit-box-shadow:rgba(0, 0, 0, .117188) 0 1px 1px inset, rgba(255, 255, 255, .167969) 0 1px 0;display:inline-block;margin-top:3px;max-width:85px;line-height:18px;padding:4px 12px;position:relative}.fb_dialog_content .dialog_header .touchable_button input{border:none;background:none;color:#fff;font:12px Helvetica, sans-serif;font-weight:bold;margin:2px -12px;padding:2px 6px 3px 6px;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}.fb_dialog_content .dialog_header .header_center{color:#fff;font-size:16px;font-weight:bold;line-height:18px;text-align:center;vertical-align:middle}.fb_dialog_content .dialog_content{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/y9/r/jKEcVPZFk-2.gif) no-repeat 50% 50%;border:1px solid #555;border-bottom:0;border-top:0;height:150px}.fb_dialog_content .dialog_footer{background:#f2f2f2;border:1px solid #555;border-top-color:#ccc;height:40px}#fb_dialog_loader_close{float:left}.fb_dialog.fb_dialog_mobile .fb_dialog_close_button{text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}.fb_dialog.fb_dialog_mobile .fb_dialog_close_icon{visibility:hidden}
.fb_iframe_widget{display:inline-block;position:relative}.fb_iframe_widget span{display:inline-block;position:relative;text-align:justify}.fb_iframe_widget iframe{position:absolute}.fb_iframe_widget_lift{z-index:1}.fb_hide_iframes iframe{position:relative;left:-10000px}.fb_iframe_widget_loader{position:relative;display:inline-block}.fb_iframe_widget_fluid{display:inline}.fb_iframe_widget_fluid span{width:100%}.fb_iframe_widget_loader iframe{min-height:32px;z-index:2;zoom:1}.fb_iframe_widget_loader .FB_Loader{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/y9/r/jKEcVPZFk-2.gif) no-repeat;height:32px;width:32px;margin-left:-16px;position:absolute;left:50%;z-index:4}
.fbpluginrecommendationsbarleft,.fbpluginrecommendationsbarright{position:fixed !important;bottom:0;z-index:999}.fbpluginrecommendationsbarleft{left:10px}.fbpluginrecommendationsbarright{right:10px}</style></head><body data-twttr-rendered="true">

        <div class="header">

<h1 style="border-bottom: 0px none; margin-bottom: 0px; padding-bottom: 0px;">Lazy Foo' Productions</h1>
<div class="nav">
<a class="nav" href="http://forums.libsdl.org/">SDL Forums</a>
<a class="nav" href="http://lazyfoo.net/tutorials/SDL/index.php">SDL Tutorials</a>
<a class="nav" href="http://lazyfoo.net/articles/index.php">Articles</a>
<a class="nav" href="http://lazyfoo.net/tutorials/OpenGL/index.php">OpenGL Tutorials</a>
<a class="nav" href="http://www.opengl.org/discussion_boards/forum.php">OpenGL Forums</a>
<div class="ads">
<script src="40_texture_manipulation_elemei/cbgapi.loaded_2"></script><script src="40_texture_manipulation_elemei/cbgapi.loaded_1"></script><script src="40_texture_manipulation_elemei/cbgapi.loaded_0"></script><script src="40_texture_manipulation_elemei/widgets.js" id="twitter-wjs"></script><script src="40_texture_manipulation_elemei/sdk.js" id="facebook-jssdk"></script><script src="40_texture_manipulation_elemei/ga.js" type="text/javascript"></script><script src="40_texture_manipulation_elemei/ca-pub-5880704953225255.js" type="text/javascript"></script><script type="text/javascript"><!--
google_ad_client = "pub-5880704953225255";
google_ad_width = 468;
google_ad_height = 60;
google_ad_format = "468x60_as";
google_ad_type = "text_image";
google_ad_channel ="";
google_color_border = "6699CC";
google_color_bg = "003366";
google_color_link = "FFFFFF";
google_color_url = "AECCEB";
google_color_text = "AECCEB";
//--></script>
<script type="text/javascript" src="40_texture_manipulation_elemei/show_ads.js">
</script><ins id="aswift_0_expand" style="border: medium none ; margin: 0pt; padding: 0pt; display: inline-table; height: 60px; position: relative; visibility: visible; width: 468px; background-color: transparent;"><ins id="aswift_0_anchor" style="border: medium none ; margin: 0pt; padding: 0pt; display: block; height: 60px; position: relative; visibility: visible; width: 468px; background-color: transparent;"><iframe marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_0" name="aswift_0" style="left: 0pt; position: absolute; top: 0pt;" frameborder="0" height="60" scrolling="no" width="468"></iframe></ins></ins>
</div><a class="nav" href="http://lazyfoo.net/index.php">News</a>
<a class="nav" href="http://lazyfoo.net/faq.php">FAQs</a>
<a class="nav" href="http://lazyfoo.net/games/index.php">Games</a>
<a class="nav" href="http://lazyfoo.net/contact.php">Contact</a>
<a class="nav" href="http://lazyfoo.net/donate.php">Donations</a>

</div><script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-32350292-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script><div style="text-align: center;">Now celebrating Lazy Foo' Productions' 10<sub>dec</sub> year anniversary!</div>

<!--Init facebook-->
<div class=" fb_reset" id="fb-root"><div style="position: absolute; top: -10000px; height: 0pt; width: 0pt;"><div></div></div><div style="position: absolute; top: -10000px; height: 0pt; width: 0pt;"><div><iframe src="40_texture_manipulation_elemei/FX-Xf5fQjUk.html" style="border: medium none ;" tabindex="-1" title="Facebook Cross Domain Communication Frame" aria-hidden="true" id="fb_xdm_frame_http" allowtransparency="true" name="fb_xdm_frame_http" frameborder="0" scrolling="no"></iframe><iframe src="40_texture_manipulation_elemei/FX-Xf5fQjUk_002.html" style="border: medium none ;" tabindex="-1" title="Facebook Cross Domain Communication Frame" aria-hidden="true" id="fb_xdm_frame_https" allowtransparency="true" name="fb_xdm_frame_https" frameborder="0" scrolling="no"></iframe></div></div></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.0";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>

<!--Init twitter-->
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="https://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>

<!--Init google+-->
<script gapi_processed="true" src="40_texture_manipulation_elemei/plusone.js"></script>
</div>        
        <div class="content">

            <div class="tutPreface"><h1 class="tutHead">Texture Manipulation</h1>
            <div class="tutImg"><img src="40_texture_manipulation_elemei/preview.png"></div>
            <h6>Last Updated 5/12/14</h6>
To do graphics effects often requires pixel access. In this tutorial
we'll be altering an image's pixels to white out the background. </div>
            
            
<div class="tutCode">//Texture wrapper class
class LTexture
{ public: //Initializes variables LTexture(); //Deallocates memory
~LTexture(); //Loads image at specified path bool loadFromFile(
std::string path ); #ifdef _SDL_TTF_H //Creates image from font string
bool loadFromRenderedText( std::string textureText, SDL_Color textColor
); #endif //Deallocates texture void free(); //Set color modulation
void setColor( Uint8 red, Uint8 green, Uint8 blue ); //Set blending
void setBlendMode( SDL_BlendMode blending ); //Set alpha modulation
void setAlpha( Uint8 alpha ); //Renders texture at given point void
render( int x, int y, SDL_Rect* clip = NULL, double angle = 0.0,
SDL_Point* center = NULL, SDL_RendererFlip flip = SDL_FLIP_NONE );
//Gets image dimensions int getWidth(); int getHeight(); //Pixel
manipulators bool lockTexture(); bool unlockTexture(); void*
getPixels(); int getPitch(); private: //The actual hardware texture
SDL_Texture* mTexture; void* mPixels; int mPitch; //Image dimensions
int mWidth; int mHeight;
};
</div>

<div class="tutText">Here we're adding new functionality to the texture
class. We have functions to lock/unlock the texture because in order to
access a texture's pixels we have to lock it and once
we're done messing with the pixels we have to unlock it.<br>
<br>
We have a function to get the raw pixels and a function to get the
pitch. The pitch is basically the width of the texture in memory. On
some older and mobile hardware, there are
limitations of what size texture you can have. If you create a texture
with a width of 100 pixels, it may get padded to 128 pixels wide (the
next power of two). Using the pitch,
we know how the image is in memory.<br>
<br>
In terms of data members we have a pointer to the pixels after we lock the texture and the pitch.
</div>

            
<div class="tutCode">bool LTexture::loadFromFile( std::string path )
{ //Get rid of preexisting texture free(); //The final texture
SDL_Texture* newTexture = NULL; //Load image at specified path
SDL_Surface* loadedSurface = IMG_Load( path.c_str() ); if(
loadedSurface == NULL ) { printf( "Unable to load image %s! SDL_image
Error: %s\n", path.c_str(), IMG_GetError() ); } else { //Convert
surface to display format SDL_Surface* formattedSurface =
SDL_ConvertSurface( loadedSurface, SDL_GetWindowSurface( gWindow
)-&gt;format, NULL ); if( formattedSurface == NULL ) { printf( "Unable
to convert loaded surface to display format! SDL Error: %s\n",
SDL_GetError() ); } else { //Create blank streamable texture newTexture
= SDL_CreateTexture( gRenderer, SDL_GetWindowPixelFormat( gWindow ),
SDL_TEXTUREACCESS_STREAMING, formattedSurface-&gt;w,
formattedSurface-&gt;h ); if( newTexture == NULL ) { printf( "Unable to
create blank texture! SDL Error: %s\n", SDL_GetError() ); }
</div>

<div class="tutText">To allow ourselves the ability to edit the
texture, we have to load our textures differently. When we created
textures from surfaces before, they had the default
<a class="tutLink" href="http://wiki.libsdl.org/SDL_TextureAccess">SDL_TextureAccess</a> of SDL_TEXTUREACCESS_STATIC, which means we can't change it after it is created. In order to
be able to edit the texture's pixels we have to create the texture with SDL_TEXTUREACCESS_STREAMING.<br>
<br>First we have the load the image as a surface like before. We then
have to convert the surface to the same pixel format as the window. We
then create a blank texture with <a class="tutLink" href="http://wiki.libsdl.org/SDL_CreateTexture">SDL_CreateTexture</a>.
</div>


<div class="tutCode">            else
            {
                //Lock texture for manipulation
                SDL_LockTexture( newTexture, NULL, &amp;mPixels, &amp;mPitch );

                //Copy loaded/formatted surface pixels
                memcpy( mPixels, formattedSurface-&gt;pixels, formattedSurface-&gt;pitch * formattedSurface-&gt;h );

                //Unlock texture to update
                SDL_UnlockTexture( newTexture );
                mPixels = NULL;

                //Get image dimensions
                mWidth = formattedSurface-&gt;w;
                mHeight = formattedSurface-&gt;h;
            }

            //Get rid of old formatted surface
            SDL_FreeSurface( formattedSurface );
        }    
        
        //Get rid of old loaded surface
        SDL_FreeSurface( loadedSurface );
    }

    //Return success
    mTexture = newTexture;
    return mTexture != NULL;
}

</div>

<div class="tutText">
After the texture is created we have to manually copy the pixels from
the surface to the texture. To grab the pixels from the texture we use
<a class="tutLink" href="http://wiki.libsdl.org/SDL_LockTexture">SDL_LockTexture</a>.
The first argument is the texture we'll be grabbing pixels from. The
second argument is the
region we want to grab pixels from and since we're getting the pixels
from the whole texture we set this argument to NULL. The third argument
is the pointer that will be set to the
address of the pixels and the last argument will be set the the
texture's pitch.<br>
<br>
After we have the texture's pixels, we copy the pixels from the surface
to the texture using memcpy. The first argument is the destination, the
second argument is the source, and
the third argument is the number of bytes we'll be copying.
Fortunately, the pitch SDL gives us is the number of bytes per row of
pixels so all we have to do is multiply by the
height of the surface to copy in all the pixels from the image.<br>
<br>
After we're done copying the pixels from the surface to the texture, we
unlock the texture to update it with the new pixels using
<a class="tutLink" href="http://wiki.libsdl.org/SDL_UnlockTexture">SDL_UnlockTexture</a>.  After the texture is unlocked the pixel pointer is invalid so we set it to NULL.<br>
<br>With the pixels from the surface copied into the texture, we then
get rid of the old surfaces and return true if the texture loaded
successfully.
</div>


<div class="tutCode">bool LTexture::lockTexture()
{
    bool success = true;

    //Texture is already locked
    if( mPixels != NULL )
    {
        printf( "Texture is already locked!\n" );
        success = false;
    }
    //Lock texture
    else
    {
        if( SDL_LockTexture( mTexture, NULL, &amp;mPixels, &amp;mPitch ) != 0 )
        {
            printf( "Unable to lock texture! %s\n", SDL_GetError() );
            success = false;
        }
    }

    return success;
}

bool LTexture::unlockTexture()
{
    bool success = true;

    //Texture is not locked
    if( mPixels == NULL )
    {
        printf( "Texture is not locked!\n" );
        success = false;
    }
    //Unlock texture
    else
    {
        SDL_UnlockTexture( mTexture );
        mPixels = NULL;
        mPitch = 0;
    }

    return success;
}
</div>

<div class="tutText">
Here are our functions to lock/unlock the texture after loading the image. 
</div>


<div class="tutCode">void* LTexture::getPixels()
{
    return mPixels;
}

int LTexture::getPitch()
{
    return mPitch;
}
</div>

<div class="tutText">Finally here are the accessors to get the pixels
and pitch while the texture is locked. Now that we can create a
streamable texture and lock/unlock it, it is time to do some texture
pixel processing.
</div>


<div class="tutCode">bool loadMedia()
{
    //Loading success flag
    bool success = true;

    //Load foo' texture
    if( !gFooTexture.loadFromFile( "40_texture_manipulation/foo.png" ) )
    {
        printf( "Failed to load corner texture!\n" );
        success = false;
    }
    else
    {
        //Lock texture
        if( !gFooTexture.lockTexture() )
        {
            printf( "Unable to lock Foo' texture!\n" );
        }
</div>

<div class="tutText">
In our media loading function after we load the texture we lock it so we can alter its pixels.
</div>


<div class="tutCode">        //Manual color key
        else
        {
            //Get pixel data
            Uint32* pixels = (Uint32*)gFooTexture.getPixels();
            int pixelCount = ( gFooTexture.getPitch() / 4 ) * gFooTexture.getHeight();
</div>

<div class="tutText">After the texture is locked, we're going to go
through the pixels and make all the background pixels transparent. What
we're doing is essentially manually color keying the image.<br>
<br>
First we need to grab the pixels. Our pixel accessor returns a void
pointer and we want 32bit pixels so we type cast it to a 32bit unsigned
integer.<br>
<br>
Next we want to get the number of pixels. We get the pitch which is the
width in bytes. We need the width in pixels and since there are 4 bytes
per pixel all we need to do is divide
by 4 to get the pitch in pixels. Then we multiply the pitch width by
the height to get the total number of pixels.
</div>


<div class="tutCode">            //Map colors
            Uint32 colorKey = SDL_MapRGB( SDL_GetWindowSurface( gWindow )-&gt;format, 0, 0xFF, 0xFF );
            Uint32 transparent = SDL_MapRGBA( SDL_GetWindowSurface( gWindow )-&gt;format, 0xFF, 0xFF, 0xFF, 0x00 );

            //Color key pixels
            for( int i = 0; i &lt; pixelCount; ++i )
            {
                if( pixels[ i ] == colorKey )
                {
                    pixels[ i ] = transparent;
                }
            }

            //Unlock texture
            gFooTexture.unlockTexture();
        }
    }

    return success;
}
</div>

<div class="tutText">What we're going to do is find all the pixels that
the color key color and then replace them with transparent pixels.
First we map color key color and the transparent color.
Then we go through all the pixels and check if any of the pixels match
the color key. If it does, we give the value of a transparent pixel.<br>
<br>
After we're done going through the pixels we unlock the texture to update it with the new pixels.
</div>


            <div class="tutFooter">
            Download the media and source code for this tutorial <a class="tutLink" href="http://lazyfoo.net/tutorials/SDL/40_texture_manipulation/40_texture_manipulation.zip">here</a>.<br>
            <br>
            <a class="leftNav" href="http://lazyfoo.net/tutorials/SDL/index.php#Texture%20Manipulation">Back to SDL Tutorials</a><br>
            </div>

        </div>

        <div class="footer">

<div style="text-align: center;">
<!--Facebook-->
<span style="line-height: 10px;" class="fb-share-button" data-href="http://lazyfoo.net/" data-type="button_count"></span>

<!--Google+-->
<div id="___plus_0" style="border-style: none; margin: 0pt; padding: 0pt; background: transparent none repeat scroll 0% 0%; text-indent: 0pt; -moz-background-clip: border; -moz-background-origin: padding; -moz-background-inline-policy: continuous; float: none; line-height: normal; font-size: 1px; vertical-align: baseline; display: inline-block; width: 109px; height: 20px;"><iframe title="+Megosztás" data-gapiattached="true" src="40_texture_manipulation_elemei/sharebutton.html" name="I0_1408456514396" id="I0_1408456514396" vspace="0" tabindex="0" style="border-style: none; margin: 0px; position: static; top: 0pt; width: 109px; left: 0pt; visibility: visible; height: 20px;" marginwidth="0" marginheight="0" hspace="0" frameborder="0" scrolling="no" width="100%"></iframe></div>

<!--Twitter-->
<iframe style="width: 110px; height: 20px;" data-twttr-rendered="true" title="Twitter Tweet Button" class="twitter-share-button twitter-tweet-button twitter-share-button twitter-count-horizontal" src="40_texture_manipulation_elemei/tweet_button.html" allowtransparency="true" id="twitter-widget-0" frameborder="0" scrolling="no"></iframe>

</div>
<div class="nav">
<a class="nav" href="http://forums.libsdl.org/">SDL Forums</a>
<a class="nav" href="http://lazyfoo.net/tutorials/SDL/index.php">SDL Tutorials</a>
<a class="nav" href="http://lazyfoo.net/articles/index.php">Articles</a>
<a class="nav" href="http://lazyfoo.net/tutorials/OpenGL/index.php">OpenGL Tutorials</a>
<a class="nav" href="http://www.opengl.org/discussion_boards/forum.php">OpenGL Forums</a>
<div class="ads">
<script type="text/javascript"><!--
google_ad_client = "pub-5880704953225255";
google_ad_width = 468;
google_ad_height = 60;
google_ad_format = "468x60_as";
google_ad_type = "text_image";
google_ad_channel ="";
google_color_border = "6699CC";
google_color_bg = "003366";
google_color_link = "FFFFFF";
google_color_url = "AECCEB";
google_color_text = "AECCEB";
//--></script>
<script type="text/javascript" src="40_texture_manipulation_elemei/show_ads.js">
</script><ins id="aswift_1_expand" style="border: medium none ; margin: 0pt; padding: 0pt; display: inline-table; height: 60px; position: relative; visibility: visible; width: 468px; background-color: transparent;"><ins id="aswift_1_anchor" style="border: medium none ; margin: 0pt; padding: 0pt; display: block; height: 60px; position: relative; visibility: visible; width: 468px; background-color: transparent;"><iframe marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_1" name="aswift_1" style="left: 0pt; position: absolute; top: 0pt;" frameborder="0" height="60" scrolling="no" width="468"></iframe></ins></ins>
</div><a class="nav" href="http://lazyfoo.net/index.php">News</a>
<a class="nav" href="http://lazyfoo.net/faq.php">FAQs</a>
<a class="nav" href="http://lazyfoo.net/games/index.php">Games</a>
<a class="nav" href="http://lazyfoo.net/contact.php">Contact</a>
<a class="nav" href="http://lazyfoo.net/donate.php">Donations</a>

</div>
<h6>
Copyright Lazy Foo' Productions 2004-2014
</h6>

</div>
    <iframe tabindex="-1" style="width: 1px; height: 1px; position: absolute; top: -100px;" src="40_texture_manipulation_elemei/postmessageRelay.html" id="oauth2relay1220494173" name="oauth2relay1220494173"></iframe></body><iframe src="" style="display: none;"></iframe></html>